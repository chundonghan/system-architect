## 第2章 操作系统
### 2.1 操作系统的类型与结构
操作系统的基本类型有：`批处理操作系统`,`分时操作系统`,`实时操作系统`.  
从`资源管理`的角度看,操作系统主要是对`处理器`,`存储器`,`文件`,`设备`,`作业`进行管理.  
#### 2.1.1 操作系统的定义
操作系统(Operating System, OS)是计算机系统中的核心系统软件,负责管理和控制计算机系统中的硬件和软件资源,合理地组织计算机工作流程和有效地利用资源,在计算机与用户之间起接口的作用.  
- 为用户的接口表现为: 命令,菜单,窗口  
- 为应用程序提供的接口为API  

图2-1 操作系统与硬件/软件的关系  
![操作系统与硬件/软件的关系](https://raw.githubusercontent.com/chundonghan/system-architect/master/img/ch2_1.png)  

#### 2.1.2 操作系统分类
- 批处理操作系统
- 分时操作系统
- 实时操作系统
- 网络操作系统
- 分布式操作系统
- 嵌入式操作系统
- 微内核操作系统

### 2.2 操作系统基本原理
操作系统的主要功能是进行处理机与`进程管理`,`存储管理`,`设备管理`,`文件管理`和`作业管理`的工作.
#### 进程管理
进程是处理机管理中最基本的、最重要的概念。以进程作为独立运行的基本单位，以进程作为分配资源的基本单位。  
- 进程的状态转换  
  + 就绪状态  
  + 执行状态  
  + 阻塞状态  

图2-2 基本状态转换  
![进程的三种基本状态转换](https://raw.githubusercontent.com/chundonghan/system-architect/master/img/ch2_2.png)  
- 挂起状态
引入挂起状态的原因：
  + 对换的需要：缓解内存紧张
  + 终端用户的请求
  + 父进程请求
  + 负荷调节的需要
  + 操作系统的需要

图2-3 具有挂起操作的进程状态的演变情况  
![进程状态转换](https://raw.githubusercontent.com/chundonghan/system-architect/master/img/ch2_3.png)  
- 进程互斥与同步  
  + 互斥：保证临界资源在某一时刻只被一个进程访问。是资源的竞争关系。  
  + 同步：是各进程按一定的制约顺序和速度执行。是进程间的协作关系。  

`临界资源`：一次仅允许一个进程使用的资源。  
`临界区`：一个进程访问临界资源的那段程序代码。  
`进程间的互斥`：禁止两个或两个以上的进程同时进入访问同一临界资源的临界区。  
- 前趋图  
前趋图是一个由节点和有向边构成的有向无循环图。通常用于表现事务之间先后顺序的制约关系。  
指令可分解为`取指`、`分析`、`执行`三步。  
- 进程调度与死锁  
进程调度即处理器调度（上下文转换）。  
进程调度方式：  
  + 剥夺方式  
  + 非剥夺方式 
进程调度算法： 
  + 先来先服务 
  + 优先树调度 
  + 轮转法 （时间片） 

采用`死锁发生后的检测与恢复策略`比采用`死锁发生前的预防与避免策略`代价小一些。  

#### 2.2.2 存储管理




